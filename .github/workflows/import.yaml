name: importNewStrings 
on: workflow_dispatch 
# We can switch to scheudle later
#    schedule:
#        - cron:  '*/15 * * * *'
jobs:
  fetch:
    runs-on: ubuntu-latest
    container:
        image: alpine
    steps:
      - run: apk update && apk add qt5-qttools-dev git
      - uses: actions/checkout@v2
        with:
          path: "translationFiles"
      - uses: actions/checkout@v2
        with:
          repository: "bakulf/mv"
          path: "vpn"
          token: ${{ secrets.ACCESSCODE }}
      - run: ls -l 
      - run: /usr/lib/qt5/bin/lupdate vpn/src/stc.pro -ts /vpn/translations
      - run: for f in /vpn/translations; do /usr/lib/qt5/bin/lconvert -i $f -o translationFiles/a.xlf; done;
      - run: ls -l /translationFiles/